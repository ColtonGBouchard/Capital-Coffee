@model CapitalCoffee.Models.DetailsViewModel

@{
    ViewBag.Title = "Details";
}

<h2 id="detailsTitle">@Model.SelectedShop.Name</h2>

<div id="shopCarousel" class="carousel slide" data-ride="carousel">

    @*@if(@Model.ReviewPictures.Count() < 1)
    {
        <div class="carousel-inner" role="listbox">
            <div class="item active">
                <img src="https://s3-media2.fl.yelpcdn.com/bphoto/gCJxTUpIK6PBWTT8LIcQhA/ls.jpg" alt="First" />
            </div>  
        </div>
    }
    else {*@ 
    <div class="carousel-inner" role="listbox">
        <div class="item active">
            <img src="https://s3-media2.fl.yelpcdn.com/bphoto/gCJxTUpIK6PBWTT8LIcQhA/ls.jpg" alt="First" />
        </div>
        
        <div class="item">
            <img src="https://pbs.twimg.com/profile_images/686248773341868034/WW2ZfA-u.png" alt="Second" />
        </div> 

        <div class="item">
            <img src="http://traipsathon.com/wp-content/uploads/2012/04/blackdog.jpg" alt="third" />
        </div>
    </div>

    <a class="left carousel-control" href="#shopCarousel" role="button" data-slide="prev">
        <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
    </a>
    <a class="right carousel-control" href="#shopCarousel" role="button" data-slide="next">
        <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
    </a>
    @*}*@
</div> 

<div id="infoContainer">
    <div id="avgRating" class="pull-left">
        <h3>@Model.AverageRating / 5.0</h3>
        <h4>Out of @Model.Reviews.Count() ratings</h4>
    </div>

    <div id="shopInfoTable" class="pull-right">
        
        <div id="basicInfo">
            @if (@Model.SelectedShop.Address2 != null)
            {
                <h5>@Model.SelectedShop.Address1, @Model.SelectedShop.Address2</h5>
            }
            else
            {
                <h5>@Model.SelectedShop.Address1</h5>
            }

            <h5>@Model.SelectedShop.City, @Model.SelectedShop.State @Model.SelectedShop.Zip</h5>

            @if (@Model.SelectedShop.IsLocal == true)
            {
                <h5><b>Local Shop</b></h5>
            }
            else
            {
                <h4>National Chain</h4>
            }

            @if (@Model.SelectedShop.WebsiteUrl != null)
            {
                <h5><a href="@Model.SelectedShop.WebsiteUrl">@Model.SelectedShop.Name's Website</a></h5>
            }

            @if (@Model.SelectedShop.MenuUrl != null)
            {
                <h5><a href="@Model.SelectedShop.MenuUrl">@Model.SelectedShop.Name's Menu</a></h5>
            }

            @if (@Model.SelectedShop.FacebookUrl != null)
            {
                <h5><a href="@Model.SelectedShop.FacebookUrl">@Model.SelectedShop.Name's Facebook</a></h5>
            }

            @if (@Model.SelectedShop.TwitterUrl != null)
            {
                <h5><a href="@Model.SelectedShop.TwitterUrl">@Model.SelectedShop.Name's Twitter</a></h5>
            }

            @if (@Model.SelectedShop.InstagramUrl != null)
            {
                <h5><a href="@Model.SelectedShop.InstagramUrl">@Model.SelectedShop.Name's Instagram</a></h5>
            }

        </div>

        <div id="hours">
            <table id="hoursTable">
                <tr>
                    <th>Day</th>
                    <th>Open</th>
                    <th>Close</th>
                </tr>
                @foreach (var h in @Model.HoursOfOperation)
                {
                    <tr>
                        <td>@h.DayOfWeek</td>
                        <td>@h.OpenTime.ToString(@"hh\:mm")</td>
                        <td>@h.CloseTime.ToString(@"hh\:mm")</td>
                    </tr>
                }
            </table>
        </div>
    </div>
</div>


<div id="reviewsContainer">


</div>